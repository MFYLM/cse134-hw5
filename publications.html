<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Feiyang Ma</title>
        <style>
            @view-transition { navigation: auto; }
        </style>
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
        <script src="/scripts/theme-toggle.js" defer></script>
        <script src="/scripts/custom-cards.js" defer></script>
        <script src="/scripts/data-loader.js" defer></script>
        
        <link rel="stylesheet" href="/styles/main.css">
    </head>

    <body>
        <input type="checkbox" hidden id="theme-toggle-checkbox">
        <script>
            // Apply theme immediately to prevent FOUC (Flash of Unstyled Content)
            (function() {
                try {
                    if (localStorage.getItem('theme-preference') === 'dark') {
                        document.getElementById('theme-toggle-checkbox').checked = true;
                    }
                } catch(e) {}
            })();
        </script>
        <header class="header">
            <nav class="navbar">
                <ul class="navbar-nav">
                    <li class="nav-item">
                        <a href="/">about</a>
                    </li>
                    <li class="nav-item active">
                        <a href="/publications.html">publications</a>
                    </li>
                    <li class="nav-item">
                        <a href="/blogs.html">blogs</a>
                    </li>
                    <li class="nav-item">
                        <a href="/crud-publications.html">manage publications</a>
                    </li>
                    <li class="nav-item">
                        <a href="/form-no-js.html">contact (without JS)</a>
                    </li>
                    <li class="nav-item">
                        <a href="/form-with-js.html">contact (with JS)</a>
                    </li>
                    <li class="nav-item">
                        <label for="theme-toggle-checkbox" id="theme-toggle-label" title="toggle dark mode">
                            <i class="fas fa-sun"></i>
                            <i class="fas fa-moon"></i>
                        </label>
                    </li>
                </ul>
            </nav>
        </header>
        
        <main class="main">
            <publications>
                <h1>Publications</h1>
                
                <div class="data-controls">
                    <button onclick="window.dataLoader.loadLocal('publications-container')" class="btn btn-primary">
                        <i class="fas fa-database"></i> Load Local
                    </button>
                    <button onclick="window.dataLoader.loadRemote('publications-container')" class="btn btn-secondary">
                        <i class="fas fa-cloud-download-alt"></i> Load Remote
                    </button>
                </div>

                <div id="publications-container">
                    <!-- Publication cards will be dynamically loaded here -->
                    <p style="color: var(--color-text-secondary-light); font-style: italic;">
                        Click "Load Local" or "Load Remote" to load publications.
                    </p>
                </div>
            </publications>
        </main>
        
        <footer class="footer">
            <div class="container">
                &copy; Copyright 2025 Feiyang Ma (Last updated: 2025-10-16)
            </div>
        </footer>
    </body>

    <noscript>
        <style>
            .noscript-warning {
                background-color: #fff3cd;
                color: #856404;
                padding: 1rem;
                text-align: center;
                border-bottom: 2px solid #ffc107;
            }
        </style>
        <div class="noscript-warning">
            JavaScript is disabled. The site will work, but theme preferences won't be saved between visits.
        </div>
    </noscript>
</html>

